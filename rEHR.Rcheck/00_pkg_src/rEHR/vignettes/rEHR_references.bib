@article{Ainsworth2012,
  title={eLab: Bringing Together People, Data and Methods to Enhance Knowledge Discovery in Healthcare Settings},
  author={Ainsworth, John and Cunningham, James and Buchan, Iain},
  journal={Studies in health technology and informatics},
  volume={175},
  pages={39--48},
  year={2012}
}

@article{Bechhofer2013,
  title={Why linked data is not enough for scientists},
  author={Bechhofer, Sean and Buchan, Iain and De Roure, David and Missier, Paolo and Ainsworth, John and Bhagat, Jiten and Couch, Philip and Cruickshank, Don and Delderfield, Mark and Dunlop, Ian and others},
  journal={Future Generation Computer Systems},
  volume={29},
  number={2},
  pages={599--611},
  year={2013},
  publisher={Elsevier}
}

@article{Danaei2013,
    author = {Danaei, Goodarz and Rodríguez, Luis A García and Cantero, Oscar Fernández and Logan, Roger and Hernán, Miguel A}, 
    title = {Observational data for comparative effectiveness research: An emulation of randomised trials of statins and primary prevention of coronary heart disease},
    volume = {22}, 
    number = {1}, 
    pages = {70-96}, 
    year = {2013}, 
    doi = {10.1177/0962280211403603}, 
    abstract ={This article reviews methods for comparative effectiveness research using observational data. The basic idea is using an observational study to emulate a hypothetical randomised trial by comparing initiators versus non-initiators of treatment. After adjustment for measured baseline confounders, one can then conduct the observational analogue of an intention-to-treat analysis. We also explain two approaches to conduct the analogues of per-protocol and as-treated analyses after further adjusting for measured time-varying confounding and selection bias using inverse-probability weighting. As an example, we implemented these methods to estimate the effect of statins for primary prevention of coronary heart disease (CHD) using data from electronic medical records in the UK. Despite strong confounding by indication, our approach detected a potential benefit of statin therapy. The analogue of the intention-to-treat hazard ratio (HR) of CHD was 0.89 (0.73, 1.09) for statin initiators versus non-initiators. The HR of CHD was 0.84 (0.54, 1.30) in the per-protocol analysis and 0.79 (0.41, 1.41) in the as-treated analysis for 2 years of use versus no use. In contrast, a conventional comparison of current users versus never users of statin therapy resulted in a HR of 1.31 (1.04, 1.66). We provide a flexible and annotated SAS program to implement the proposed analyses.}, 
    URL = {http://smm.sagepub.com/content/22/1/70.abstract}, 
    eprint = {http://smm.sagepub.com/content/22/1/70.full.pdf+html}, 
    journal = {Statistical Methods in Medical Research} 
}

@article {Dave2009,
author = {Dav\'{e}, Shreya and Petersen, Irene},
title = {Creating medical and drug code lists to identify cases in primary care databases},
journal = {Pharmacoepidemiology and Drug Safety},
volume = {18},
number = {8},
publisher = {John Wiley & Sons, Ltd.},
issn = {1099-1557},
url = {http://dx.doi.org/10.1002/pds.1770},
doi = {10.1002/pds.1770},
pages = {704--707},
keywords = {medical codes, Read codes, drug codes, primary care databases, GPRD, THIN},
year = {2009},
}

@article{Gelfand2006,
  title={Risk of myocardial infarction in patients with psoriasis},
  author={Gelfand, Joel M and Neimann, Andrea L and Shin, Daniel B and Wang, Xingmei and Margolis, David J and Troxel, Andrea B},
  journal={Jama},
  volume={296},
  number={14},
  pages={1735--1741},
  year={2006},
  publisher={American Medical Association}
}

@article{Kontopantelis2013,
  author =    {Evangelos Kontopantelis},
  title =	{A Greedy Algorithm for Representative Sampling: repsample in Stata},
  journal =	{Journal of Statistical Software},
  volume =	{55},
  number =	{1},
  year = 	{2013},
}

@article{Kontopantelis2014,
  title={Glucose, blood pressure and cholesterol levels and their relationships to clinical outcomes in type 2 diabetes: a retrospective cohort study},
  author={Kontopantelis, Evangelos and Springate, David A and Reeves, David and Ashcroft, Darren M and Rutter, Martin and Buchan, Iain and Doran, Tim},
  journal={Diabetologia},
  pages={1-14},
  year={2014},
  publisher={Springer}
}

@article {Kontopantelis2014,
  title={Regression-based quasi-experimental approach when randomisation is not an option: interrupted time series analysis},
  author = {Kontopantelis, Evangelos and Doran, Tim and Springate, David A and Buchan, Iain and Reeves, David},
  volume = {350},
  year = {2015},
  journal = {BMJ}
}}

@article {Olier2015,
  title = {Modelling conditions in a Primary Care Database: an application to Severe Mental Illness with the Clinical Practice Research Datalink},
  author = {Olier, Ivan and Springate, David A and Reeves, David and Ashcroft, Darren M and Doran, Tim and Reilly, Sioban and Kontopantelis, Evangelos},
  year = {2015},
  journal = {Submitted BMJ Open} 
}

@article{Overhage2013,
    author = {Overhage, J Marc and Overhage, Lauren M}, 
    title = {Sensible use of observational clinical data},
    volume = {22}, 
    number = {1}, 
    pages = {7-13}, 
    year = {2013}, 
    doi = {10.1177/0962280211403598}, 
    abstract ={Observational data sets offer many potential advantages for medical research including their low cost, large size and generalisability. Because they are collected for clinical care and health care operations purposes, observational data sets have some limitations that must be considered in order to perform useful analyses. Sensible use of observational data sets can yield valuable insights, particularly when clinical trials are impractical.}, 
    URL = {http://smm.sagepub.com/content/22/1/7.abstract}, 
    eprint = {http://smm.sagepub.com/content/22/1/7.full.pdf+html}, 
    journal = {Statistical Methods in Medical Research} 
}

@article{Parisi2015,
  title={Psoriasis and the Risk of Major Cardiovascular Events: Cohort Study Using the Clinical Practice Research Datalink},
  author={Parisi, Rosa and Rutter, Martin K and Lunt, Mark and Young, Helen S and Symmons, Deborah PM and Griffiths, Christopher EM and Ashcroft, Darren M},
  journal={Journal of Investigative Dermatology},
  year={2015},
  publisher={Nature Publishing Group}
}

@article{Perlis2012,
    author = {Perlis,R. H. and Iosifescu,D. V. and Castro,V. M. and Murphy,S. N. and Gainer,V. S. and Minnier,J. and Cai,T. and Goryachev,S. and Zeng,Q. and Gallagher,P. J. and Fava,M. and Weilburg,J. B. and Churchill,S. E. and Kohane,I. S. and Smoller,J. W.},
    title = {Using electronic medical records to enable large-scale studies in psychiatry: treatment resistant depression as a model},
    journal = {Psychological Medicine},
    volume = {42},
    issue = {01},
    month = {1},
    year = {2012},
    issn = {1469-8978},
    pages = {41--50},
    numpages = {10},
    doi = {10.1017/S0033291711000997},
    URL = {http://journals.cambridge.org/article_S0033291711000997},
}

@article{Reeves2014,
    author = {Reeves, David and Springate, David A and Ashcroft, Darren M and Ryan, Ronan and Doran, Tim and Morris, Richard and Olier, Ivan and Kontopantelis, Evangelos}, 
    title = {Can analyses of electronic patient records be independently and externally validated? The effect of statins on the mortality of patients with ischaemic heart disease: a cohort study with nested case–control analysis},
    volume = {4}, 
    number = {4}, 
    year = {2014}, 
    doi = {10.1136/bmjopen-2014-004952}, 
    abstract ={Objective To conduct a fully independent and external validation of a research study based on one electronic health record database, using a different electronic database sampling the same population.Design Using the Clinical Practice Research Datalink (CPRD), we replicated a published investigation into the effects of statins in patients with ischaemic heart disease (IHD) by a different research team using QResearch. We replicated the original methods and analysed all-cause mortality using: (1) a cohort analysis and (2) a case-control analysis nested within the full cohort.Setting Electronic health record databases containing longitudinal patient consultation data from large numbers of general practices distributed throughout the UK.Participants CPRD data for 34925 patients with IHD from 224 general practices, compared to previously published results from QResearch for 13029 patients from 89 general practices. The study period was from January 1996 to December 2003.Results We successfully replicated the methods of the original study very closely. In a cohort analysis, risk of death was lower by 55% for patients on statins, compared with 53% for QResearch (adjusted HR 0.45, 95% CI 0.40 to 0.50; vs 0.47, 95% CI 0.41 to 0.53). In case-control analyses, patients on statins had a 31% lower odds of death, compared with 39% for QResearch (adjusted OR 0.69, 95% CI 0.63 to 0.75; vs OR 0.61, 95% CI 0.52 to 0.72). Results were also close for individual statins.Conclusions Database differences in population characteristics and in data definitions, recording, quality and completeness had a minimal impact on key statistical outputs. The results uphold the validity of research using CPRD and QResearch by providing independent evidence that both datasets produce very similar estimates of treatment effect, leading to the same clinical and policy decisions. Together with other non-independent replication studies, there is a nascent body of evidence for wider validity.}, 
    URL = {http://bmjopen.bmj.com/content/4/4/e004952.abstract}, 
    eprint = {http://bmjopen.bmj.com/content/4/4/e004952.full.pdf+html}, 
    journal = {BMJ Open} 
}

@article{Richardson2004,
author = {Richardson, D B}, 
title = {An incidence density sampling program for nested case-control analyses},
volume = {61}, 
number = {12}, 
pages = {e59}, 
year = {2004}, 
doi = {10.1136/oem.2004.014472}, 
abstract ={Background: The nested case-control design can be a very efficient approach to an epidemiological investigation. In order to obtain unbiased estimates of relative risk, controls should be selected by incidence density sampling, which involves matching each case to a sample of those who are at risk at the time of case occurrence.Methods: This paper presents a simple computer program for incidence density sampling. This program was evaluated using data derived from a cohort study of mortality among workers employed in the nuclear weapons industry. Controls were selected for cases via incidence density sampling; an estimate of the exposure-mortality association was obtained via conditional logistic regression. After 100 iterations of this procedure, the average effect estimate was compared to the risk estimate obtained via proportional hazards regression. The same methods were used to evaluate a program for incidence density sampling that was proposed previously by Pearce in 1989.5Results: Relative risk estimates obtained from nested case-control analyses conducted using the incidence density sampling program reported in this paper are unbiased. In contrast, the program for incidence density sampling proposed by Pearce5 tended to produce biased relative risk estimates; the magnitude of bias increased with increasing numbers of controls selected per case.Conclusions: The computer program described in this paper offers a simple approach to incidence density sampling for nested case-control analyses with exact matching on attained age and appropriate enumeration of the pool of eligible controls for each case. This method overcomes problems of bias inherent in a previously proposed program for incidence density sampling.}, 
URL = {http://oem.bmj.com/content/61/12/e59.abstract}, 
eprint = {http://oem.bmj.com/content/61/12/e59.full.pdf+html}, 
journal = {Occupational and Environmental Medicine} 
}

@article{Roland2004,
  title={Linking physicians’ pay to the quality of care—a major experiment in the United Kingdom},
  author={Martin Roland},
  journal={New England Journal of Medicine},
  volume={351},
  pages={1448-54},
  year={2004}
}

@article{Springate2014,
    author = {Springate, David A. and Kontopantelis, Evangelos and Ashcroft, Darren M. and Olier, Ivan and Parisi, Rosa and Chamapiwa, Edmore and Reeves, David},
    journal = {PLoS ONE},
    publisher = {Public Library of Science},
    title = {ClinicalCodes: An Online Clinical Codes Repository to Improve the Validity and Reproducibility of Research Using Electronic Medical Records},
    year = {2014},
    month = {06},
    volume = {9},
    url = {http://dx.doi.org/10.1371%2Fjournal.pone.0099825},
    pages = {e99825},
    abstract = {<p>Lists of clinical codes are the foundation for research undertaken using electronic medical records (EMRs). If clinical code lists are not available, reviewers are unable to determine the validity of research, full study replication is impossible, researchers are unable to make effective comparisons between studies, and the construction of new code lists is subject to much duplication of effort. Despite this, the publication of clinical codes is rarely if ever a requirement for obtaining grants, validating protocols, or publishing research. In a representative sample of 450 EMR primary research articles indexed on PubMed, we found that only 19 (5.1%) were accompanied by a full set of published clinical codes and 32 (8.6%) stated that code lists were available on request. To help address these problems, we have built an online repository where researchers using EMRs can upload and download lists of clinical codes. The repository will enable clinical researchers to better validate EMR studies, build on previous code lists and compare disease definitions across studies. It will also assist health informaticians in replicating database studies, tracking changes in disease definitions or clinical coding practice through time and sharing clinical code information across platforms and data sources as research objects.</p>},
    number = {6},
    doi = {10.1371/journal.pone.0099825}
}        

@article{Springate2015,
    author = {Springate, David A and Ashcroft, Darren M and Kontopantelis, Evangelos and Doran, Tim and Ryan, Ronan and Reeves, David}, 
    title = {Can analyses of electronic patient records be independently and externally validated? Study 2—the effect of $B$-adrenoceptor blocker     therapy on cancer survival: a retrospective cohort study},
    volume = {5}, 
    number = {4}, 
    year = {2015}, 
    doi = {10.1136/bmjopen-2014-007299}, 
abstract ={Objectives To conduct a fully independent, external validation of a research study based on one electronic health record database using a different database sampling from the same population.Design Retrospective cohort analysis of β-blocker therapy and all-cause mortality in patients with cancer.Setting Two UK national primary care databases (PCDs): the Clinical Practice Research Datalink (CPRD) and Doctors’ Independent Network (DIN).Participants CPRD data for 11302 patients with cancer compared with published results from DIN for 3462 patients; study period January 1997 to December 2006.Primary and secondary outcome measures All-cause mortality: overall; by treatment subgroup (β-blockers only, β-blockers plus other blood pressure lowering medicines (BPLM), other BPLMs only); and by cancer site.Results Using CPRD, β-blocker use was not associated with mortality (HR=1.03, 95% CI 0.93 to 1.14, vs patients prescribed other BPLMs only), but DIN β-blocker users had significantly higher mortality (HR=1.18, 95% CI 1.04 to 1.33). However, these HRs were not statistically different (p=0.063), but did differ for patients on β-blockers alone (CPRD=0.94, 95% CI 0.82 to 1.07; DIN=1.37, 95% CI 1.16 to 1.61; p<0.001). Results for individual cancer sites differed by study, but only significantly for prostate and pancreas cancers. Results were robust under sensitivity analyses, but we could not be certain that mortality was identically defined in both databases.Conclusions We found a complex pattern of similarities and differences between databases. Overall treatment effect estimates were not statistically different, adding to a growing body of evidence that different UK PCDs produce comparable effect estimates. However, individually the two studies lead to different conclusions regarding the safety of β-blockers and some subgroup effects differed significantly. Single studies using even internally well-validated databases do not guarantee generalisable results, especially for subgroups, and confirmatory studies using at least one other independent data source are strongly recommended.}, 
    URL = {http://bmjopen.bmj.com/content/5/4/e007299.abstract}, 
    eprint = {http://bmjopen.bmj.com/content/5/4/e007299.full.pdf+html}, 
    journal = {BMJ Open} 
}

@misc{CPRD,
  title = {{Clinical Practice Research Datalink (CPRD) GOLD}},
  howpublished = {\url{http://www.cprd.com/dataAccess/default.asp#OnlineDataGOLD}},
  note = {Accessed: 2014-04-30}
}

@Manual{devtools,
    title = {devtools: Tools to make developing R code easier},
    author = {Hadley Wickham and Winston Chang},
    year = {2014},
    note = {R package version 1.6.1},
    url = {http://CRAN.R-project.org/package=devtools},
  }

@Manual{dplyr,
    title = {dplyr: A Grammar of Data Manipulation},
    author = {Hadley Wickham and Romain Francois},
    year = {2015},
    note = {R package version 0.4.1},
    url = {http://CRAN.R-project.org/package=dplyr},
  }

@Manual{Epi,
    title = {Epi: A Package for Statistical Analysis in Epidemiology},
    author = {Bendix Carstensen, Martyn Plummer, Esa Laara and Michael Hills},
    year = {2014},
    note = {R package version 1.1.67},
    url = {http://CRAN.R-project.org/package=Epi},
  }


@Manual{R,
    title = {R: A Language and Environment for Statistical Computing},
    author = {{R Core Team}},
    organization = {R Foundation for Statistical Computing},
    address = {Vienna, Austria},
    year = {2014},
    url = {http://www.R-project.org/},
  }


@Manual{sqldf,
    title = {sqldf: Perform SQL Selects on R Data Frames},
    author = {G. Grothendieck},
    year = {2014},
    note = {R package version 0.4-7.1},
    url = {http://CRAN.R-project.org/package=sqldf},
  }

@Manual{RSQLite,
    title = {RSQLite: SQLite interface for R},
    author = {David A. James and Seth Falcon and  the authors of SQLite},
    year = {2013},
    note = {R package version 0.11.4},
    url = {http://CRAN.R-project.org/package=RSQLite},
  }

